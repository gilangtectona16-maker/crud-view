{% extends 'base.html' %}

{% block content %}
    <h1>✏️ Edit Post</h1>

    <form method="post">
        {% csrf_token %}

        <div class="mb-3">
            <label>Judul</label>
            <input type="text" name="title" class="form-control" value="{{ post.title }}" required>
        </div>

        <div class="mb-3">
            <label>Konten</label>
            <textarea name="content" class="form-control" rows="6" required>{{ post.content }}</textarea>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <select class="form-select" name="category" aria-label="Default select example" required>
                    <option selected disabled>Pilih Kategori Blog</option>
                    {% for c in category %}
                        <option value="{{ c.name }}"
                            {% if c.name == post.category %}
                                selected
                            {% endif %}
                        >{{ c.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-sm-6">
                <select class="form-select" name="types" aria-label="Default select example" required>
                    <option selected disabled>Pilih Tipe Blog</option>
                    {% for t in types %}
                        <option value="{{ t.name }}" 
                            {% if t.name in post.types %}
                                selected
                            {% endif %}
                        >{{ t.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <label>Group</label>
            <br>
            {% for g in groups %} 
                <input type="checkbox" name="groups" value="{{ g.name }}"
                {% if g.name in post_groups %}
                    checked
                {% endif %}
                > {{ g.name }}
            {% endfor %}
            <br>

        <div class="mt-3">
            <button class="btn btn-primary">Update</button>
            <a href="{% url 'post_list' %}" class="btn btn-secondary">Batal</a>
        </div>
    </form>
{% endblock %}